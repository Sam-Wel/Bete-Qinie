{"ast":null,"code":"var _jsxFileName = \"/Users/samuelfessehaye/Desktop/Bete-Qinie/src/components/dictionary/UpdateWord.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { supabase } from \"../../util/supabaseClient\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UpdateWord() {\n  _s();\n  var _languages$find;\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [mainWord, setMainWord] = useState(\"\");\n  const [mainLanguage, setMainLanguage] = useState(\"\");\n  const [translations, setTranslations] = useState([]);\n  const [languages, setLanguages] = useState([]);\n  const [error, setError] = useState(null);\n\n  // Fetch available languages\n  useEffect(() => {\n    const fetchLanguages = async () => {\n      try {\n        const {\n          data,\n          error\n        } = await supabase.from(\"languages\").select(\"*\");\n        if (error) console.error(\"Error fetching languages:\", error);else setLanguages(data || []);\n      } catch (err) {\n        console.error(\"Unexpected error fetching languages:\", err);\n      }\n    };\n    fetchLanguages();\n  }, []);\n\n  // Fetch the word and its translations\n  useEffect(() => {\n    const fetchWordData = async () => {\n      try {\n        const {\n          data,\n          error\n        } = await supabase.rpc(\"get_word_with_translations\", {\n          word_id: id\n        });\n        if (error) throw error;\n        if (data && data.length > 0) {\n          const mainWordData = data[0];\n          setMainWord(mainWordData.main_word);\n          setMainLanguage(mainWordData.main_language_code);\n          const translationData = data.filter(item => item.related_word_id) // Exclude rows without related words\n          .map(item => ({\n            word_id: item.related_word_id,\n            translated_word: item.related_word,\n            target_language: item.related_language_code\n          }));\n          setTranslations(translationData);\n        }\n      } catch (err) {\n        console.error(\"Error fetching word or translations:\", err);\n        setError(\"Failed to load the word or translations.\");\n      }\n    };\n    fetchWordData();\n  }, [id]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    try {\n      // Update the main word\n      const {\n        error: wordError\n      } = await supabase.from(\"words\").update({\n        word: mainWord\n      }).eq(\"word_id\", id);\n      if (wordError) throw wordError;\n\n      // Update translations\n      for (const {\n        word_id,\n        translated_word,\n        target_language\n      } of translations) {\n        if (!translated_word) continue;\n\n        // Check if the word already exists\n        const {\n          data: existingWord,\n          error: checkError\n        } = await supabase.from(\"words\").select(\"word_id\").eq(\"word\", translated_word).eq(\"language_code\", target_language).single();\n        if (checkError && checkError.code !== \"PGRST116\") {\n          throw checkError;\n        }\n        if (existingWord) {\n          // Update the mapping to use the existing word\n          const {\n            error: mappingError\n          } = await supabase.from(\"translationmappings\").update({\n            related_word_id: existingWord.word_id\n          }).match({\n            word_id: id,\n            related_word_id: word_id\n          });\n          if (mappingError) throw mappingError;\n        } else {\n          // Update the translated word in the `words` table\n          const {\n            error: updateError\n          } = await supabase.from(\"words\").update({\n            word: translated_word\n          }).eq(\"word_id\", word_id);\n          if (updateError) throw updateError;\n        }\n      }\n      navigate(\"/dictionaryEdit\");\n    } catch (err) {\n      console.error(\"Error updating word or translations:\", err);\n      setError(\"An error occurred while updating the word or translations.\");\n    }\n  };\n  const handleDeleteTranslation = async translationId => {\n    setError(null);\n    try {\n      // Delete the mapping\n      const {\n        error: deleteMappingError\n      } = await supabase.from(\"translationmappings\").delete().match({\n        word_id: id,\n        related_word_id: translationId\n      });\n      if (deleteMappingError) throw deleteMappingError;\n\n      // Remove the translation from the UI\n      setTranslations(prevTranslations => prevTranslations.filter(t => t.word_id !== translationId));\n    } catch (err) {\n      console.error(\"Error deleting translation:\", err);\n      setError(\"Failed to delete the translation.\");\n    }\n  };\n  const handleTranslationChange = (index, field, value) => {\n    const updatedTranslations = [...translations];\n    updatedTranslations[index][field] = value;\n    setTranslations(updatedTranslations);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen w-full min-h-screen flex-col items-center justify-center bg-gray-100 p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mb-6\",\n      children: \"Update Word and Translations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 mb-4\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"w-full max-w-md space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 mb-2\",\n          children: [((_languages$find = languages.find(lang => lang.language_code === mainLanguage)) === null || _languages$find === void 0 ? void 0 : _languages$find.language_name) || \"Main\", \" \", \"Word:\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: mainWord,\n          onChange: e => setMainWord(e.target.value),\n          className: \"w-full p-3 border rounded shadow focus:outline-none focus:ring focus:border-blue-300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), translations.map((translation, index) => {\n        var _languages$find2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700\",\n            children: [\"Translation for\", \" \", ((_languages$find2 = languages.find(lang => lang.language_code === translation.target_language)) === null || _languages$find2 === void 0 ? void 0 : _languages$find2.language_name) || translation.target_language, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: translation.translated_word,\n              onChange: e => handleTranslationChange(index, \"translated_word\", e.target.value),\n              className: \"flex-grow p-3 border rounded shadow focus:outline-none focus:ring focus:border-blue-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => handleDeleteTranslation(translation.word_id),\n              className: \"bg-red-500 text-white px-4 py-2 rounded shadow hover:bg-red-600\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-blue-500 text-white p-3 rounded shadow hover:bg-blue-600\",\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n}\n_s(UpdateWord, \"XF9AbBc5sbeHZbeK5koIg11Dp3g=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = UpdateWord;\nexport default UpdateWord;\nvar _c;\n$RefreshReg$(_c, \"UpdateWord\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","supabase","jsxDEV","_jsxDEV","UpdateWord","_s","_languages$find","id","navigate","mainWord","setMainWord","mainLanguage","setMainLanguage","translations","setTranslations","languages","setLanguages","error","setError","fetchLanguages","data","from","select","console","err","fetchWordData","rpc","word_id","length","mainWordData","main_word","main_language_code","translationData","filter","item","related_word_id","map","translated_word","related_word","target_language","related_language_code","handleSubmit","e","preventDefault","wordError","update","word","eq","existingWord","checkError","single","code","mappingError","match","updateError","handleDeleteTranslation","translationId","deleteMappingError","delete","prevTranslations","t","handleTranslationChange","index","field","value","updatedTranslations","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","find","lang","language_code","language_name","type","onChange","target","translation","_languages$find2","onClick","_c","$RefreshReg$"],"sources":["/Users/samuelfessehaye/Desktop/Bete-Qinie/src/components/dictionary/UpdateWord.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { supabase } from \"../../util/supabaseClient\";\n\nfunction UpdateWord() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n\n  const [mainWord, setMainWord] = useState(\"\");\n  const [mainLanguage, setMainLanguage] = useState(\"\");\n  const [translations, setTranslations] = useState([]);\n  const [languages, setLanguages] = useState([]);\n  const [error, setError] = useState(null);\n\n  // Fetch available languages\n  useEffect(() => {\n    const fetchLanguages = async () => {\n      try {\n        const { data, error } = await supabase.from(\"languages\").select(\"*\");\n        if (error) console.error(\"Error fetching languages:\", error);\n        else setLanguages(data || []);\n      } catch (err) {\n        console.error(\"Unexpected error fetching languages:\", err);\n      }\n    };\n\n    fetchLanguages();\n  }, []);\n\n  // Fetch the word and its translations\n  useEffect(() => {\n    const fetchWordData = async () => {\n      try {\n        const { data, error } = await supabase.rpc(\"get_word_with_translations\", {\n          word_id: id,\n        });\n\n        if (error) throw error;\n\n        if (data && data.length > 0) {\n          const mainWordData = data[0];\n          setMainWord(mainWordData.main_word);\n          setMainLanguage(mainWordData.main_language_code);\n\n          const translationData = data\n            .filter((item) => item.related_word_id) // Exclude rows without related words\n            .map((item) => ({\n              word_id: item.related_word_id,\n              translated_word: item.related_word,\n              target_language: item.related_language_code,\n            }));\n\n          setTranslations(translationData);\n        }\n      } catch (err) {\n        console.error(\"Error fetching word or translations:\", err);\n        setError(\"Failed to load the word or translations.\");\n      }\n    };\n\n    fetchWordData();\n  }, [id]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(null);\n  \n    try {\n      // Update the main word\n      const { error: wordError } = await supabase\n        .from(\"words\")\n        .update({ word: mainWord })\n        .eq(\"word_id\", id);\n  \n      if (wordError) throw wordError;\n  \n      // Update translations\n      for (const { word_id, translated_word, target_language } of translations) {\n        if (!translated_word) continue;\n  \n        // Check if the word already exists\n        const { data: existingWord, error: checkError } = await supabase\n          .from(\"words\")\n          .select(\"word_id\")\n          .eq(\"word\", translated_word)\n          .eq(\"language_code\", target_language)\n          .single();\n  \n        if (checkError && checkError.code !== \"PGRST116\") {\n          throw checkError;\n        }\n  \n        if (existingWord) {\n          // Update the mapping to use the existing word\n          const { error: mappingError } = await supabase\n            .from(\"translationmappings\")\n            .update({ related_word_id: existingWord.word_id })\n            .match({ word_id: id, related_word_id: word_id });\n  \n          if (mappingError) throw mappingError;\n        } else {\n          // Update the translated word in the `words` table\n          const { error: updateError } = await supabase\n            .from(\"words\")\n            .update({ word: translated_word })\n            .eq(\"word_id\", word_id);\n  \n          if (updateError) throw updateError;\n        }\n      }\n  \n      navigate(\"/dictionaryEdit\");\n    } catch (err) {\n      console.error(\"Error updating word or translations:\", err);\n      setError(\"An error occurred while updating the word or translations.\");\n    }\n  };\n  \n\n  const handleDeleteTranslation = async (translationId) => {\n    setError(null);\n\n    try {\n      // Delete the mapping\n      const { error: deleteMappingError } = await supabase\n        .from(\"translationmappings\")\n        .delete()\n        .match({ word_id: id, related_word_id: translationId });\n\n      if (deleteMappingError) throw deleteMappingError;\n\n      // Remove the translation from the UI\n      setTranslations((prevTranslations) =>\n        prevTranslations.filter((t) => t.word_id !== translationId)\n      );\n    } catch (err) {\n      console.error(\"Error deleting translation:\", err);\n      setError(\"Failed to delete the translation.\");\n    }\n  };\n\n  const handleTranslationChange = (index, field, value) => {\n    const updatedTranslations = [...translations];\n    updatedTranslations[index][field] = value;\n    setTranslations(updatedTranslations);\n  };\n\n  return (\n    <div className=\"flex h-screen w-full min-h-screen flex-col items-center justify-center bg-gray-100 p-4\">\n      <h1 className=\"text-3xl font-bold mb-6\">Update Word and Translations</h1>\n\n      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\n\n      <form onSubmit={handleSubmit} className=\"w-full max-w-md space-y-6\">\n        {/* Main Word Input */}\n        <div>\n          <label className=\"block text-gray-700 mb-2\">\n            {languages.find((lang) => lang.language_code === mainLanguage)?.language_name || \"Main\"}{\" \"}\n            Word:\n          </label>\n          <input\n            type=\"text\"\n            value={mainWord}\n            onChange={(e) => setMainWord(e.target.value)}\n            className=\"w-full p-3 border rounded shadow focus:outline-none focus:ring focus:border-blue-300\"\n          />\n        </div>\n\n        {/* Translations */}\n        {translations.map((translation, index) => (\n          <div key={index} className=\"space-y-2\">\n            <label className=\"block text-gray-700\">\n              Translation for{\" \"}\n              {languages.find((lang) => lang.language_code === translation.target_language)\n                ?.language_name || translation.target_language}\n              :\n            </label>\n            <div className=\"flex space-x-2\">\n              <input\n                type=\"text\"\n                value={translation.translated_word}\n                onChange={(e) =>\n                  handleTranslationChange(index, \"translated_word\", e.target.value)\n                }\n                className=\"flex-grow p-3 border rounded shadow focus:outline-none focus:ring focus:border-blue-300\"\n              />\n              <button\n                type=\"button\"\n                onClick={() => handleDeleteTranslation(translation.word_id)}\n                className=\"bg-red-500 text-white px-4 py-2 rounded shadow hover:bg-red-600\"\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        ))}\n\n        <button\n          type=\"submit\"\n          className=\"w-full bg-blue-500 text-white p-3 rounded shadow hover:bg-blue-600\"\n        >\n          Update\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default UpdateWord;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}